<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sintonia - O Jogo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style> body { font-family: 'Inter', sans-serif; } </style>
</head>
<body class="text-gray-800 select-none">

    <div class="app-container">

        <div id="screen-home" class="screen active flex-col h-full p-6 justify-center">
            <div class="text-center mb-10">
                <h1 class="text-6xl font-black tracking-tighter text-white drop-shadow-lg mb-2">SINTONIA</h1>
                <p class="text-white/90 font-medium uppercase tracking-widest text-sm">O Jogo de Conex√£o</p>
            </div>

            <div class="space-y-4 w-full">
                <button onclick="selectGameMode('normal')" class="glass-card w-full p-6 flex items-center justify-between group hover:bg-white/90 transition-all transform hover:scale-[1.02]">
                    <div class="text-left">
                        <h3 class="text-2xl font-black text-gray-800 group-hover:text-blue-600">Modo Normal</h3>
                        <p class="text-xs text-gray-500 font-bold uppercase">Cartas Cl√°ssicas</p>
                    </div>
                    <span class="text-3xl">üé≤</span>
                </button>

                <button onclick="selectGameMode('custom')" class="glass-card w-full p-6 flex items-center justify-between group hover:bg-white/90 transition-all transform hover:scale-[1.02]">
                    <div class="text-left">
                        <h3 class="text-2xl font-black text-gray-800 group-hover:text-purple-600">Personalizado</h3>
                        <p class="text-xs text-gray-500 font-bold uppercase">Crie suas palavras</p>
                    </div>
                    <span class="text-3xl">‚úçÔ∏è</span>
                </button>

                <button disabled class="glass-card w-full p-6 flex items-center justify-between opacity-60 cursor-not-allowed bg-gray-100/50">
                    <div class="text-left">
                        <h3 class="text-2xl font-black text-gray-500">Em Breve</h3>
                        <p class="text-xs text-gray-400 font-bold uppercase">Novos Modos</p>
                    </div>
                    <span class="text-3xl grayscale">üîí</span>
                </button>
            </div>
        </div>

        <div id="screen-custom-setup" class="screen flex-col h-full p-6">
            <div class="text-center mb-4 mt-2">
                <h2 class="text-3xl font-black text-white drop-shadow-md">Criar Baralho</h2>
                <p class="text-white/80 text-xs">Preencha os pares de opostos</p>
            </div>
        
            <div class="flex-1 overflow-y-auto pr-1 -mr-1 mb-4" id="custom-pairs-container">
                </div>
        
            <button onclick="addCustomRow()" class="w-full bg-white/20 border-2 border-dashed border-white/50 text-white p-3 rounded-2xl font-bold mb-4 hover:bg-white/30 transition-all">
                + Adicionar Carta
            </button>
        
            <div class="flex gap-3">
                <button onclick="showScreen('screen-home')" class="w-1/3 bg-white/20 text-white p-4 rounded-2xl font-bold backdrop-blur hover:bg-white/30">
                    Voltar
                </button>
                <button onclick="processCustomWords()" class="flex-1 bg-white text-purple-600 p-4 rounded-2xl font-black text-lg shadow-xl transform transition hover:scale-[1.02]">
                    Jogar! ‚Üí
                </button>
            </div>
        </div>

        <div id="screen-setup-players" class="screen flex-col h-full p-6">
            <div class="text-center mb-4 mt-2">
                <h1 class="text-4xl font-black tracking-tighter text-white drop-shadow-md mb-1">PLAYERS</h1>
                <p class="text-sm text-white/90 font-medium uppercase tracking-widest">Quem vai jogar?</p>
            </div>
            
            <div class="glass-card p-6 flex flex-col items-center justify-center mb-4">
                <div id="display-players" class="text-6xl font-black text-blue-600 mb-1">2</div>
                <span class="text-gray-400 font-bold uppercase tracking-widest text-xs mb-6">Jogadores</span>
                <input type="range" id="num-players" min="2" max="10" value="2" class="w-full mb-2" oninput="updatePlayerInputs()">
            </div>

            <div class="flex-1 overflow-y-auto pr-1 -mr-1 mb-4">
                <div id="players-inputs" class="space-y-2"></div>
            </div>

            <button onclick="goToSetupRounds()" class="w-full bg-white text-blue-600 p-5 rounded-2xl font-black text-lg shadow-xl transform transition hover:scale-[1.02] active:scale-95">
                Pr√≥ximo Passo ‚Üí
            </button>
        </div>

        <div id="screen-setup-rounds" class="screen flex-col h-full p-6 justify-between">
            <div class="text-center mt-4">
                <h2 class="text-3xl font-black text-white drop-shadow-sm mb-2">RODADAS</h2>
                <p class="text-white/80 text-sm">Dura√ß√£o da partida</p>
            </div>

            <div class="glass-card p-8 flex flex-col items-center justify-center">
                <div id="display-rounds" class="text-6xl font-black text-blue-600 mb-2">4</div>
                <span class="text-gray-400 font-bold uppercase tracking-widest text-sm mb-8">Rodadas</span>
                <input type="range" id="range-rounds" min="3" max="10" value="4" class="w-full mb-6" oninput="updateRoundDisplay()">
                <p class="text-xs text-gray-400 text-center leading-relaxed">
                    Cada rodada um jogador diferente d√° a dica.<br>
                    <span class="font-bold text-gray-600">Mais rodadas = Jogo mais longo!</span>
                </p>
            </div>

            <button onclick="startGame()" class="w-full bg-black text-white p-5 rounded-2xl font-black text-lg shadow-xl transform transition hover:scale-[1.02] active:scale-95">
                Come√ßar Jogo üöÄ
            </button>
        </div>

        <div id="screen-clue-start" class="screen flex-col h-full p-6">
            <div class="flex justify-between items-center mb-6">
                <button onclick="location.reload()" class="p-2 bg-white/20 rounded-full text-white backdrop-blur">üè†</button>
                <span class="bg-white/20 backdrop-blur px-4 py-1 rounded-full font-bold text-white text-xs uppercase tracking-wider" id="round-indicator-1">Rodada 1/4</span>
            </div>
            <div class="flex-1 flex flex-col items-center justify-center text-center">
                <div class="mb-6">
                    <span class="text-white/80 text-sm font-bold uppercase tracking-widest">Doador da Dica</span>
                    <div class="text-4xl font-black text-white drop-shadow-md mt-1" id="clue-giver-name">Player 1</div>
                </div>
                <div class="glass-card w-full p-8 shadow-2xl transform rotate-1 hover:rotate-0 transition-transform duration-500">
                    <div class="text-gray-400 text-xs font-bold uppercase tracking-widest mb-4">Sua Carta</div>
                    <div class="text-2xl font-black text-gray-800 uppercase leading-tight" id="card-display-1">Liso / √Åspero</div>
                </div>
            </div>
            <button onclick="showTargetScreen()" class="w-full bg-white text-black p-5 rounded-2xl font-black text-lg shadow-xl mt-auto transform transition hover:scale-[1.02] active:scale-95">Ver o Alvo üëÅÔ∏è</button>
        </div>

        <div id="screen-see-target" class="screen flex-col h-full p-6">
            <div class="flex justify-between items-center mb-4">
                <span class="bg-white/20 backdrop-blur px-4 py-1 rounded-full font-bold text-white text-xs uppercase tracking-wider" id="round-indicator-2">Rodada 1/4</span>
            </div>
            <div class="glass-card p-4 text-center mb-6 border-l-4 border-orange-500">
                <h3 class="font-black text-lg text-gray-800">√Årea Alvo Revelada!</h3>
                <p class="text-xs text-gray-500 mt-1 font-medium">D√™ uma dica verbal que se encaixe na posi√ß√£o!</p>
            </div>
            <div class="glass-card p-0 pt-6 pb-6 relative overflow-hidden">
                <div class="gauge-container">
                    <svg viewBox="0 0 200 100" class="w-full h-full">
                        <path d="M 10 100 A 90 90 0 0 1 190 100" fill="#eef2ff" stroke="#cbd5e1" stroke-width="2" />
                        <g id="target-zones-group"></g>
                        <line x1="100" y1="100" x2="100" y2="15" stroke="#dc2626" stroke-width="4" stroke-linecap="round" opacity="0.3" />
                        <circle cx="100" cy="100" r="8" fill="#dc2626" stroke="white" stroke-width="2"/>
                    </svg>
                </div>
                <div class="flex justify-between w-full px-4 mt-4">
                    <span class="font-black text-sm text-gray-700 bg-gray-100 px-3 py-2 rounded-lg shadow-sm" id="word-left-1">Esq</span>
                    <span class="font-black text-sm text-gray-700 bg-gray-100 px-3 py-2 rounded-lg shadow-sm" id="word-right-1">Dir</span>
                </div>
            </div>
            <button onclick="goToPassDevice()" class="w-full bg-black text-white p-5 rounded-2xl font-black text-lg shadow-xl mt-auto transform transition hover:scale-[1.02] active:scale-95">Esconder e Passar üôà</button>
        </div>

        <div id="screen-pass" class="screen flex-col h-full p-6 items-center justify-center text-center">
            <div class="absolute inset-0 bg-black/60 backdrop-blur-md z-0"></div>
            <div class="relative z-10 w-full">
                <div class="mb-8 mx-auto w-24 h-24 bg-white/10 rounded-full flex items-center justify-center animate-pulse"><span class="text-5xl">üì±</span></div>
                <h2 class="text-3xl font-black text-white mb-4">Passe o Celular</h2>
                <div class="bg-white/10 p-6 rounded-2xl backdrop-blur mb-10">
                    <p class="text-gray-300 text-sm uppercase tracking-wider mb-2">Pr√≥ximo Jogador</p>
                    <p id="pass-instruction" class="text-3xl font-black text-white">Player X</p>
                </div>
                <button onclick="goToGuess()" class="w-full bg-white text-black p-5 rounded-2xl font-black text-lg shadow-xl transform transition hover:scale-[1.02] active:scale-95">Estou Pronto!</button>
            </div>
        </div>

        <div id="screen-guess" class="screen flex-col h-full p-6">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-2 bg-white/20 backdrop-blur pl-2 pr-4 py-1 rounded-full">
                    <span class="text-lg">ü§î</span>
                    <span class="font-bold text-white text-sm" id="guesser-name">Player 2</span>
                </div>
                <span class="bg-white/20 backdrop-blur px-4 py-1 rounded-full font-bold text-white text-xs uppercase tracking-wider" id="round-indicator-3">Rodada 1/4</span>
            </div>
            <div class="text-center mb-4"><h2 class="text-2xl font-black text-white drop-shadow-md">Onde est√° o alvo?</h2></div>
            <div class="glass-card p-0 pt-8 pb-8 relative">
                <div class="gauge-container" id="interactive-gauge">
                    <svg viewBox="0 0 200 100" class="w-full h-full overflow-visible">
                        <path d="M 10 100 A 90 90 0 0 1 190 100" fill="#f8fafc" stroke="#cbd5e1" stroke-width="2" />
                        <g id="needle-group" class="needle" style="transform: rotate(0deg);">
                            <line x1="100" y1="100" x2="100" y2="10" stroke="#dc2626" stroke-width="6" stroke-linecap="round" />
                            <circle cx="100" cy="100" r="8" fill="#dc2626" stroke="white" stroke-width="2"/>
                        </g>
                    </svg>
                </div>
                <div class="flex justify-between w-full px-2 mt-6">
                    <span class="font-bold text-sm text-gray-600 bg-gray-100 border border-gray-200 px-3 py-2 rounded-lg" id="word-left-2">Esq</span>
                    <span class="font-bold text-sm text-gray-600 bg-gray-100 border border-gray-200 px-3 py-2 rounded-lg" id="word-right-2">Dir</span>
                </div>
            </div>
            <button id="btn-submit-guess" onclick="handleGuessAction()" class="w-full bg-black text-white p-5 rounded-2xl font-black text-lg shadow-xl mt-auto transform transition hover:scale-[1.02] active:scale-95">Confirmar</button>
        </div>

        <div id="screen-result" class="screen flex-col h-full p-6">
            <h2 class="text-2xl font-black text-white text-center mb-6 drop-shadow-md">Resultados da Rodada</h2>
            <div class="glass-card p-0 pt-6 pb-6">
                <div class="gauge-container">
                    <svg viewBox="0 0 200 100" class="w-full h-full overflow-visible">
                        <path d="M 10 100 A 90 90 0 0 1 190 100" fill="#f8fafc" stroke="#cbd5e1" stroke-width="2" />
                        <g id="target-zones-result"></g> 
                        <g id="needle-result" class="needle"></g>
                    </svg>
                </div>
            </div>
            <div id="score-card" class="mt-6 p-6 rounded-3xl shadow-lg text-center text-white bg-gray-800 transition-all duration-500 transform scale-100 border border-white/20">
                <div class="mb-1 font-black text-xs uppercase tracking-widest opacity-70" id="result-player-name">Pontua√ß√£o</div>
                <div class="text-3xl font-black mb-4" id="result-text">Pontua√ß√£o</div>
                <div class="" id="result-points"></div>
            </div>
            <button onclick="nextRound()" class="w-full bg-white text-black p-5 rounded-2xl font-black text-lg shadow-xl mt-auto transform transition hover:scale-[1.02] active:scale-95">Pr√≥xima Rodada ‚Üí</button>
        </div>

        <div id="screen-end" class="screen flex-col h-full p-6 items-center justify-center">
            <h1 class="text-5xl font-black text-white mb-2 drop-shadow-lg">FIM DE JOGO</h1>
            <p class="text-white/80 font-medium mb-8">Placar Final</p>
            <div id="final-scores" class="w-full space-y-3 mb-8"></div>
            <button onclick="location.reload()" class="w-full bg-white text-black p-5 rounded-2xl font-black text-lg shadow-xl mb-4">Jogar Novamente üîÑ</button>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>